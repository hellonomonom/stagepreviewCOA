<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Stage Preview COA</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/styles.css">
    
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/assets/textures/favicon/favicon.svg">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/textures/favicon/favicon-96x96.png">
    <link rel="icon" type="image/x-icon" href="/assets/textures/favicon/favicon.ico">
    <link rel="apple-touch-icon" href="/assets/textures/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/assets/textures/favicon/site.webmanifest">
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EF6NDS9WVS"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);} 
      gtag('js', new Date());
      gtag('config', 'G-EF6NDS9WVS');
    </script>
</head>
<body>
    <div class="settings-panel minimized" id="settingsPanel">
        <div class="settings-panel-header">
            <div class="control-section-header">Settings</div>
            <button class="settings-panel-toggle" id="settingsPanelToggle" aria-label="Minimize/Maximize">−</button>
        </div>
        <div class="settings-panel-content">
            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-button active" id="mediaTabBtn" data-tab="media">Media</button>
                    <button class="tab-button" id="mappingTabBtn" data-tab="mapping">Mapping</button>
                    <button class="tab-button" id="stageTabBtn" data-tab="stage">Stage</button>
                    <button class="tab-button" id="cameraTabBtn" data-tab="camera">Camera</button>
                    <button class="tab-button" id="devTabBtn" data-tab="dev" style="display: none;">Dev</button>
                </div>
                <div class="tab-content">
                    <!-- Media Tab Content -->
                    <div class="tab-panel active" id="mediaTabPanel">
                        <div class="control-group">
                            <label class="label">Source Type</label>
                            <div style="display: flex; gap: var(--space-sm); align-items: center;">
                                <select id="sourceTypeSelect" class="dropdown" style="flex: 1; min-width: 180px;">
                                    <option value="texture" selected>Image/Video</option>
                                    <option value="ndi">NDI STREAM</option>
                                </select>
                                <div class="file-input-wrapper" id="fileInputWrapper" style="flex-shrink: 0;">
                                    <input 
                                        type="file" 
                                        id="textureInput" 
                                        class="file-input" 
                                        accept="image/*,video/mp4"
                                    />
                                    <label for="textureInput" class="file-input-icon" title="Load Image / Video">
                                        <span class="material-icons">folder</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="control-group" id="textureInputGroup">
                            <label for="videoAssetSelect" class="label">Sample Assets</label>
                            <select id="videoAssetSelect" class="dropdown">
                                <option value="/assets/videos/ANYMA_DunDun_Option1_47to1.mp4" selected>DunDun Option 1 (4.7:1)</option>
                                <option value="/assets/videos/ANYMA_Eva_Option1_47to1.mp4">Eva Option 1 (4.7:1)</option>
                                <option value="/assets/videos/ANYMA_HumanNow_Option1_47to1.mp4">HumanNow Option 1 (4.7:1)</option>
                                <option value="/assets/videos/ANYMA_DunDun_Option2_6to1.mp4">DunDun Option 2 (6:1)</option>
                                <option value="/assets/videos/ANYMA_Eva_Option2_6to1.mp4">Eva Option 2 (6:1)</option>
                                <option value="/assets/videos/ANYMA_HumanNow_Option2_6to1.mp4">HumanNow Option 2 (6:1)</option>
                                <option value="/assets/textures/UVGrid47to1.jpg">UV Grid 4.7:1 (Image)</option>
                                <option value="/assets/textures/UVGrid6to1.jpg">UV Grid 6:1 (Image)</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <div class="checkbox-wrapper" style="display: flex; align-items: center; gap: var(--space-md); flex-wrap: wrap;">
                                <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                    <input type="checkbox" id="showFileInfo" checked>
                                    <label for="showFileInfo" class="label-inline">Show source info</label>
                                </div>
                                <div id="fileInfoSizeWrapper" style="display: flex; align-items: center; gap: var(--space-sm); flex: 1; min-width: 200px;">
                                    <input type="range" id="fileInfoSize" class="slider" min="50" max="200" step="5" value="100" style="flex: 1;">
                                    <span class="value" id="fileInfoSizeValue" style="min-width: 40px; text-align: right;">100%</span>
                                </div>
                            </div>
                        </div>
                        <div class="control-group hidden" id="ndiStreamGroup"></div>
                    </div>

                    <!-- Mapping Tab Content -->
                    <div class="tab-panel" id="mappingTabPanel">
                        <div class="control-group">
                            <label class="label">Mapping Type</label>
                            <select id="mappingTypeSelect" class="dropdown">
                                <option value="renderOption1" selected>Option 1 (4.7:1) - Projection with Front</option>
                                <option value="renderOption1NoFront">Option 1 (4.7:1) - Projection no Front</option>
                                <option value="renderOption2WithFront">Option 2 (6:1) - with Front</option>
                                <option value="renderOption2NoFront">Option 2 (6:1) - no Front</option>
                            </select>
                        </div>
                        <div class="control-group" id="correctedMeshGroup" style="display: none;">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="useCorrectedMesh" />
                                <label for="useCorrectedMesh" class="label-inline">Use corrected mesh</label>
                            </div>
                        </div>
                        <div class="control-group" id="useGaragefixGroup" style="display: none;">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="useGaragefix" checked />
                                <label for="useGaragefix" class="label-inline">Use Garagefix mesh</label>
                            </div>
                        </div>
                        <div class="control-group" id="overlapMaskGroup" style="display: none;">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="enableOverlapMask" checked />
                                <label for="enableOverlapMask" class="label-inline">Enable Overlap Mask</label>
                            </div>
                        </div>
                        <div class="control-group" id="hideLedFrontGroup" style="display: none !important;" hidden>
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="hideLedFront">
                                <label for="hideLedFront" class="label-inline">Hide LED Front</label>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="showMapping">
                                <label for="showMapping" class="label-inline">Show Source</label>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="overlaySizeSlider" class="label">
                                Mapping Overlay Size: <span class="value" id="overlaySizeValue">1.0</span>
                            </label>
                            <input 
                                type="range" 
                                id="overlaySizeSlider" 
                                class="slider" 
                                min="0.1" 
                                max="2" 
                                step="0.1" 
                                value="1.0"
                            />
                        </div>
                        <div class="control-group">
                            <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                <div style="flex: 1;">
                                    <label for="textureScaleSlider" class="label">
                                        Texture Scale: <span class="value" id="textureScaleValue">1.00</span>
                                    </label>
                                    <input 
                                        type="range" 
                                        id="textureScaleSlider" 
                                        class="slider" 
                                        min="0.1" 
                                        max="3" 
                                        step="0.01" 
                                        value="1.0"
                                    />
                                </div>
                                <button class="btn btn-sm" id="textureScaleResetBtn" title="Reset to 1.00" aria-label="Reset to 1.00">
                                    <span class="material-icons">refresh</span>
                                </button>
                            </div>
                        </div>
                        <div class="control-group">
                            <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                <div style="flex: 1;">
                                    <label for="textureOffsetUSlider" class="label">
                                        Texture Offset U: <span class="value" id="textureOffsetUValue">0.00</span>
                                    </label>
                                    <input 
                                        type="range" 
                                        id="textureOffsetUSlider" 
                                        class="slider" 
                                        min="-1" 
                                        max="1" 
                                        step="0.01" 
                                        value="0.0"
                                    />
                                </div>
                                <button class="btn btn-sm" id="textureOffsetUResetBtn" title="Reset to 0.00" aria-label="Reset to 0.00">
                                    <span class="material-icons">refresh</span>
                                </button>
                            </div>
                        </div>
                        <div class="control-group">
                            <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                <div style="flex: 1;">
                                    <label for="textureOffsetVSlider" class="label">
                                        Texture Offset V: <span class="value" id="textureOffsetVValue">0.00</span>
                                    </label>
                                    <input 
                                        type="range" 
                                        id="textureOffsetVSlider" 
                                        class="slider" 
                                        min="-1" 
                                        max="1" 
                                        step="0.01" 
                                        value="0.0"
                                    />
                                </div>
                                <button class="btn btn-sm" id="textureOffsetVResetBtn" title="Reset to 0.00" aria-label="Reset to 0.00">
                                    <span class="material-icons">refresh</span>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Stage Tab Content -->
                    <div class="tab-panel" id="stageTabPanel">
                        <div class="control-group">
                            <button class="btn btn-sm" id="djHeightToggleBtn">Toggle DJ Height</button>
                        </div>
                        <div class="control-group">
                            <label class="label">Cables Color</label>
                            <div style="display: flex; align-items: center; gap: var(--space-sm);">
                                <input 
                                    type="color" 
                                    id="stageCablesColorPicker" 
                                    value="#757575"
                                    style="width: 44px; height: 28px; padding: 0; border: none; background: transparent;"
                                />
                                <span class="value" id="stageCablesColorValue" style="min-width: 80px;">Cables</span>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="crowdInstanceCountSlider" class="label">
                                Crowd Instances: <span class="value" id="crowdInstanceCountValue">4000</span>
                            </label>
                            <input 
                                type="range" 
                                id="crowdInstanceCountSlider" 
                                class="slider" 
                                min="0" 
                                max="5000" 
                                step="1" 
                                value="4000"
                            />
                        </div>
                    </div>

                    <!-- Camera Tab Content -->
                    <div class="tab-panel" id="cameraTabPanel">
                        <div class="control-group" style="display: none;">
                            <label class="label">VR Camera Presets</label>
                            <div style="display: flex; gap: var(--space-sm); align-items: center;">
                                <select id="vrPresetSelect" class="dropdown" style="flex: 1;">
                                    <option value="">Select VR Preset...</option>
                                    <option value="farCamA">FarCam A - Far/Flaps/Bow/GarageFix (5:1)</option>
                                    <option value="farCamB">FarCam B - Far/Flaps/Bow/Mask (5:1)</option>
                                    <option value="farCamC">FarCam C - Far/Flaps/Bow/GarageFix/ShiftY (5:1)</option>
                                    <option value="farCamD">FarCam D - Far/Flaps/Bow/ShiftY/Mask (5:1)</option>
                                    <option value="farCamE">FarCam E - Flaps/Bow/GarageFix/ShiftY/Scale (5:1)</option>
                                    <option value="frontProjectionPerspective">Front Projection Perspective (5.1:1)</option>
                                    <option value="frontProjection">Front Projection Orthographic (5.1:1)</option>
                                    <option value="festival">Festival Mapping (7.4:1)</option>
                                </select>
                                <button class="btn btn-sm" id="cycleVRPresetBtn" title="Cycle to next VR preset">Next</button>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="camera-position-buttons">
                                <button class="camera-position-btn" id="cameraPos1">Home</button>
                                <button class="camera-position-btn" id="cameraPos2">Crowd</button>
                                <button class="camera-position-btn" id="cameraPos3">Projection close (5.5:1)</button>
                                <button class="camera-position-btn" id="cameraPos4">Projection far (5:1)</button>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="showCameraDebugPanel">
                                <label for="showCameraDebugPanel" class="label-inline">Show Camera Debug Panel</label>
                            </div>
                        </div>
                        <div class="camera-debug-panel" id="cameraDebugPanel">
                            <div class="debug-panel-content">
                                <div class="debug-info-row">
                                    <span class="debug-label-text">Position:</span>
                                    <span class="debug-value" id="cameraPosX">0.00</span>,
                                    <span class="debug-value" id="cameraPosY">0.00</span>,
                                    <span class="debug-value" id="cameraPosZ">0.00</span>
                                </div>
                                <div class="debug-info-row">
                                    <span class="debug-label-text">Rotation:</span>
                                    <span class="debug-value" id="cameraRotX">0.00</span>,
                                    <span class="debug-value" id="cameraRotY">0.00</span>,
                                    <span class="debug-value" id="cameraRotZ">0.00</span>
                                </div>
                                <div class="debug-info-row">
                                    <span class="debug-label-text">Target:</span>
                                    <span class="debug-value" id="cameraTargetX">0.00</span>,
                                    <span class="debug-value" id="cameraTargetY">0.00</span>,
                                    <span class="debug-value" id="cameraTargetZ">0.00</span>
                                </div>
                                <div class="camera-session-buttons">
                                    <button class="copy-camera-btn" id="storeCameraBtn">Store</button>
                                    <button class="copy-camera-btn" id="loadCameraBtn">Load</button>
                                </div>
                                <button class="copy-camera-btn" id="copyCameraBtn">Copy Camera Values</button>
                            </div>
                        </div>
                    </div>

                    <!-- Dev Tab Content -->
                    <div class="tab-panel" id="devTabPanel" style="display: none;">
                        <div class="control-group">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="showStyleShaderPanel">
                                <label for="showStyleShaderPanel" class="label-inline">Show Style & Shaders Panel</label>
                            </div>
                        </div>
                        <div class="text-sm" id="versionInfo" style="font-family: var(--font-family-mono); line-height: 1.6; margin-top: var(--space-xl); word-wrap: break-word; white-space: pre-line;">-</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Panel Burger Menu (shows when panel is minimized) -->
    <button class="settings-panel-burger" id="settingsPanelBurger" aria-label="Open Settings">
        <span class="material-icons">menu</span>
    </button>

    <!-- VR Toggle Button (Hidden - functionality kept intact) -->
    <button class="vr-toggle-button" id="vrToggleButton" aria-label="Enter VR" style="display: none !important;" hidden>
        <span class="material-icons">view_in_ar</span>
        <span class="vr-button-text">Enter VR</span>
    </button>

    <!-- VR Error Message -->
    <div class="vr-error-message" id="vrErrorMessage" style="display: none;"></div>

    <!-- Camera Panel (hidden - now integrated into Settings panel as a tab) -->
    <div class="camera-panel" id="cameraPanel" style="display: none;">
    </div>

    <!-- Combined Style & Shader Panel -->
    <div class="style-shader-panel minimized" id="styleShaderPanel">
        <div class="style-shader-panel-header">
            <div class="control-section-header">Style & Shaders</div>
            <button class="style-shader-panel-toggle" id="styleShaderPanelToggle" aria-label="Minimize/Maximize">+</button>
        </div>
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" id="styleTabBtn" data-tab="style">Style Reference</button>
                <button class="tab-button" id="shaderTabBtn" data-tab="shader">Shaders</button>
            </div>
            <div class="tab-content">
                <!-- Style Tab Content -->
                <div class="tab-panel active" id="styleTabPanel">
                    <!-- Background Color -->
                    <div class="control-group">
                        <div class="control-section-header" style="display: flex; justify-content: space-between; align-items: center;">
                            <span>Background Color <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></span>
                            <button class="btn btn-sm" id="copyBackgroundColorBtn">Copy Values</button>
                        </div>
                        <label class="label">Background Color</label>
                        <input type="color" id="backgroundColorPicker" value="#010101" />
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="backgroundColorR" class="label" style="flex: 1;">R: <span class="value" id="backgroundColorRValue">0.004</span></label>
                            <input type="range" id="backgroundColorR" class="slider" min="0" max="1" step="0.001" value="0.004" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="backgroundColorG" class="label" style="flex: 1;">G: <span class="value" id="backgroundColorGValue">0.004</span></label>
                            <input type="range" id="backgroundColorG" class="slider" min="0" max="1" step="0.001" value="0.004" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="backgroundColorB" class="label" style="flex: 1;">B: <span class="value" id="backgroundColorBValue">0.004</span></label>
                            <input type="range" id="backgroundColorB" class="slider" min="0" max="1" step="0.001" value="0.004" />
                        </div>
                    </div>

                    <!-- Typography -->
                    <div class="control-group">
                        <div class="title">Title Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <div class="title-sm">Small Title <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></div>
                        <div class="label">Label Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></div>
                        <div class="text">Regular Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="text-sm">Small Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="text-mono">Monospace Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, monospace)</span></div>
                        <div class="status">Status Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="status loaded">Status Loaded <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="value">Value: 100 <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 500, sans-serif)</span></div>
                    </div>

                    <!-- Buttons -->
                    <div class="control-group">
                        <div class="control-section-header">Buttons <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <button class="btn">Default Button <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(13px, 500, sans-serif)</span></button>
                        <button class="btn btn-sm">Small Button <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 500, sans-serif)</span></button>
                        <button class="btn btn-lg">Large Button <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(15px, 500, sans-serif)</span></button>
                        <div class="camera-position-buttons" style="margin-top: var(--space-sm);">
                            <button class="camera-position-btn">Position 1 <span style="font-weight: normal; opacity: 0.6; font-size: 8px;">(11px, 500, sans-serif)</span></button>
                            <button class="camera-position-btn">Position 2 <span style="font-weight: normal; opacity: 0.6; font-size: 8px;">(11px, 500, sans-serif)</span></button>
                        </div>
                    </div>

                    <!-- Form Elements -->
                    <div class="control-group">
                        <div class="control-section-header">Form Elements <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <label class="label">Select Option <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></label>
                        <select class="dropdown">
                            <option>Option 1 (11px, 500, sans-serif)</option>
                            <option>Option 2 (11px, 500, sans-serif)</option>
                            <option>Option 3 (11px, 500, sans-serif)</option>
                        </select>
                        <label for="styleSlider" class="label">Slider: <span class="value">50</span> <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px label 500, 13px value 500, sans-serif)</span></label>
                        <input type="range" id="styleSlider" class="slider" min="0" max="100" value="50" />
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="styleCheckbox" />
                            <label for="styleCheckbox" class="label-inline">Checkbox Label <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></label>
                        </div>
                        <label for="styleInput" class="label">Input Field <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px label 500, 11px input 400, sans-serif)</span></label>
                        <input type="text" id="styleInput" class="input" placeholder="Placeholder Text (11px, 400, sans-serif)" />
                    </div>

                    <!-- Playback Controls -->
                    <div class="control-group">
                        <div class="control-section-header">Playback Controls <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <div class="playback-controls">
                            <button class="playback-btn"><span class="material-icons">replay_10</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                            <button class="playback-btn playback-btn-primary"><span class="material-icons">play_arrow</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                            <button class="playback-btn"><span class="material-icons">forward_10</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                            <button class="playback-btn"><span class="material-icons">volume_up</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                        </div>
                    </div>

                    <!-- File Input -->
                    <div class="control-group">
                        <div class="file-input-wrapper">
                            <input type="file" class="file-input" />
                            <label class="file-input-label">Load Image / Video <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 500, sans-serif)</span></label>
                        </div>
                    </div>

                    <!-- Section Example -->
                    <div class="control-section">
                        <div class="control-section-header">Section Header <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <div class="control-section-content">
                            <div class="control-group">
                                <div class="label">Section Content <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Shader Tab Content -->
                <div class="tab-panel" id="shaderTabPanel">
                    <div style="display: flex; justify-content: flex-end; margin-bottom: var(--space-md);">
                        <button class="btn btn-sm" id="copyAllShadersBtn" title="Copy All Shader Values">Copy All</button>
                    </div>
                    <!-- Base Shader -->
                    <!-- ... existing shader sections ... -->
                </div>
            </div>
        </div>
    </div>

    <!-- File Info Display (Top Center) -->
    <div class="file-info-top" id="fileInfoTop">
        <!-- Frame Info for Videos -->
        <div class="frame-info" id="frameInfo">
            <span id="fileNameDisplay"></span>
            <span class="frame-info-separator">|</span>
            <span id="frameCountDisplay">Frame: 0 / 0</span>
        </div>
        <!-- Still Info for Images -->
        <div class="still-info" id="stillInfo">
            <span id="stillFileNameDisplay"></span>
        </div>
    </div>

    <!-- Playback Menu -->
    <div class="playback-menu" id="playbackMenu">
        <button class="playback-menu-toggle" id="playbackMenuToggle" aria-label="Minimize/Maximize">−</button>
        <div class="playback-menu-content">
            
            <!-- Timeline Slider -->
            <div class="timeline-container" id="timelineContainer">
                <span id="timeDisplay" class="timeline-time timeline-time-left">00:00</span>
                <input 
                    type="range" 
                    id="timelineSlider" 
                    class="slider slider-timeline" 
                    min="0" 
                    max="100" 
                    step="0.1" 
                    value="0"
                />
                <span id="totalTimeDisplay" class="timeline-time timeline-time-right">00:00</span>
            </div>
            
            <!-- Playback Controls Row -->
            <div class="playback-menu-controls">
                <!-- Transport Controls -->
                <div class="playback-transport">
                    <button class="playback-btn" id="jumpToStartBtn" aria-label="Jump to beginning">
                        <span class="material-icons">skip_previous</span>
                    </button>
                    <button class="playback-btn" id="rewindBtn" aria-label="Jump back 10 seconds">
                        <span class="material-icons">replay_10</span>
                    </button>
                    <button class="playback-btn" id="prevFrameBtn" aria-label="Previous frame">
                        <span class="material-icons">navigate_before</span>
                    </button>
                    <button class="playback-btn playback-btn-primary" id="playPauseBtn" aria-label="Play/Pause">
                        <span class="material-icons">play_arrow</span>
                    </button>
                    <button class="playback-btn" id="nextFrameBtn" aria-label="Next frame">
                        <span class="material-icons">navigate_next</span>
                    </button>
                    <button class="playback-btn" id="jumpToEndBtn" aria-label="Jump forward 10 seconds">
                        <span class="material-icons">forward_10</span>
                    </button>
                </div>
                <!-- Volume Control -->
                <div class="playback-volume">
                    <button class="playback-btn" id="muteBtn" aria-label="Mute/Unmute">
                        <span class="material-icons">volume_up</span>
                    </button>
                    <input 
                        type="range" 
                        id="volumeSlider" 
                        class="slider slider-volume" 
                        min="0" 
                        max="100" 
                        step="1" 
                        value="100"
                        aria-label="Volume"
                    />
                </div>
            </div>
        </div>
    </div>

    <div class="mapping-overlay" id="mapping">
        <video id="overlayVideo" muted loop playsinline></video>
        <img id="overlayImage" style="display: none;" alt="Mapping texture">
    </div>

    <div class="debug-container" id="debugContainer">
        <div class="debug-label">NDI Debug (First Stream)</div>
        <video id="debugVideo" muted playsinline autoplay></video>
    </div>
    <script type="module" src="/main.js"></script>
</body>
</html>
