<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stage Preview COA</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-panel-header">
            <div class="control-section-header">Settings</div>
            <button class="settings-panel-toggle" id="settingsPanelToggle" aria-label="Minimize/Maximize">âˆ’</button>
        </div>
        <div class="settings-panel-content">
            <div class="tab-container">
                <div class="tab-buttons">
                    <button class="tab-button active" id="mediaTabBtn" data-tab="media">Media</button>
                    <button class="tab-button" id="mappingTabBtn" data-tab="mapping">Mapping</button>
                    <button class="tab-button" id="stageTabBtn" data-tab="stage">Stage</button>
                    <button class="tab-button" id="cameraTabBtn" data-tab="camera">Camera</button>
                    <button class="tab-button" id="devTabBtn" data-tab="dev">Dev</button>
                </div>
                <div class="tab-content">
                    <!-- Media Tab Content -->
                    <div class="tab-panel active" id="mediaTabPanel">
                        <div class="control-group">
                            <label class="label">Source Type</label>
                            <div style="display: flex; gap: var(--space-sm); align-items: center;">
                                <select id="sourceTypeSelect" class="dropdown" style="flex: 1; min-width: 180px;">
                                    <option value="texture" selected>Image/Video</option>
                                    <option value="ndi">NDI STREAM (WIP)</option>
                                    <option value="checkerboard">Checkerboard</option>
                                </select>
                                <div class="file-input-wrapper" style="flex-shrink: 0;">
                                    <input 
                                        type="file" 
                                        id="textureInput" 
                                        class="file-input" 
                                        accept="image/*,video/mp4"
                                    />
                                    <label for="textureInput" class="file-input-icon" title="Load Image / Video">
                                        <span class="material-icons">folder</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="control-group" id="textureInputGroup">
                            <label for="videoAssetSelect" class="label">Sample Assets</label>
                            <select id="videoAssetSelect" class="dropdown">
                                <option value="">Select a video...</option>
                                <option value="/assets/videos/ANYMA_DunDun_55FP.mp4">ANYMA_DunDun_55FP.mp4</option>
                                <option value="/assets/videos/ANYMA_HumanNow_55FP.mp4">ANYMA_HumanNow_55FP.mp4</option>
                                <option value="/assets/videos/shG010_Eva_v12_55FP.mp4">shG010_Eva_v12_55FP.mp4</option>
                            </select>
                        </div>
                        <div class="control-group hidden" id="ndiStreamGroup">
                            <label class="label">Available NDI Streams</label>
                            <button class="btn mb-md" id="refreshNdiBtn">
                                Refresh NDI Streams
                            </button>
                            <select id="ndiStreamSelect" class="dropdown">
                                <option value="">No streams discovered yet. Click "Refresh NDI Streams" to discover.</option>
                            </select>
                        </div>
                    </div>

                    <!-- Mapping Tab Content -->
                    <div class="tab-panel" id="mappingTabPanel">
                        <div class="control-group">
                            <label class="label">Mapping Type</label>
                            <select id="mappingTypeSelect" class="dropdown">
                                <option value="frontProjectionPerspective" selected>Front Projection Perspective</option>
                                <option value="frontProjection">Front Projection Orthogonal</option>
                                <option value="festival">Festival Mapping</option>
                            </select>
                        </div>
                        <div class="control-group" id="correctedMeshGroup" style="display: none;">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="useCorrectedMesh" />
                                <label for="useCorrectedMesh" class="label-inline">Use corrected mesh</label>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="hideLedFront">
                                <label for="hideLedFront" class="label-inline">Hide LED Front</label>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="showMapping">
                                <label for="showMapping" class="label-inline">Show Pixelmapping</label>
                            </div>
                        </div>
                        <div class="control-group">
                            <label for="overlaySizeSlider" class="label">
                                Mapping Overlay Size: <span class="value" id="overlaySizeValue">1.0</span>
                            </label>
                            <input 
                                type="range" 
                                id="overlaySizeSlider" 
                                class="slider" 
                                min="0.1" 
                                max="2" 
                                step="0.1" 
                                value="1.0"
                            />
                        </div>
                    </div>

                    <!-- Stage Tab Content -->
                    <div class="tab-panel" id="stageTabPanel">
                        <div class="control-group">
                            <label for="djDeckHeightSlider" class="label">
                                Height DJ: <span class="value" id="djDeckHeightValue">0.0m</span>
                            </label>
                            <input 
                                type="range" 
                                id="djDeckHeightSlider" 
                                class="slider" 
                                min="0" 
                                max="12" 
                                step="0.1" 
                                value="0"
                            />
                        </div>
                    </div>

                    <!-- Camera Tab Content -->
                    <div class="tab-panel" id="cameraTabPanel">
                        <div class="control-group">
                            <div class="camera-position-buttons">
                                <button class="camera-position-btn" id="cameraPos1">Position 1</button>
                                <button class="camera-position-btn" id="cameraPos2">Position 2</button>
                                <button class="camera-position-btn" id="cameraPos3">Position 3</button>
                                <button class="camera-position-btn" id="cameraPos4">Position 4</button>
                            </div>
                        </div>
                        <div class="control-group">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="showCameraDebugPanel">
                                <label for="showCameraDebugPanel" class="label-inline">Show Camera Debug Panel</label>
                            </div>
                        </div>
                        <div class="camera-debug-panel" id="cameraDebugPanel">
                            <div class="debug-panel-content">
                                <div class="debug-info-row">
                                    <span class="debug-label-text">Position:</span>
                                    <span class="debug-value" id="cameraPosX">0.00</span>,
                                    <span class="debug-value" id="cameraPosY">0.00</span>,
                                    <span class="debug-value" id="cameraPosZ">0.00</span>
                                </div>
                                <div class="debug-info-row">
                                    <span class="debug-label-text">Rotation:</span>
                                    <span class="debug-value" id="cameraRotX">0.00</span>,
                                    <span class="debug-value" id="cameraRotY">0.00</span>,
                                    <span class="debug-value" id="cameraRotZ">0.00</span>
                                </div>
                                <div class="debug-info-row">
                                    <span class="debug-label-text">Target:</span>
                                    <span class="debug-value" id="cameraTargetX">0.00</span>,
                                    <span class="debug-value" id="cameraTargetY">0.00</span>,
                                    <span class="debug-value" id="cameraTargetZ">0.00</span>
                                </div>
                                <div class="camera-session-buttons">
                                    <button class="copy-camera-btn" id="storeCameraBtn">Store</button>
                                    <button class="copy-camera-btn" id="loadCameraBtn">Load</button>
                                </div>
                                <button class="copy-camera-btn" id="copyCameraBtn">Copy Camera Values</button>
                            </div>
                        </div>
                    </div>

                    <!-- Dev Tab Content -->
                    <div class="tab-panel" id="devTabPanel">
                        <div class="control-group">
                            <div class="checkbox-wrapper">
                                <input type="checkbox" id="showStyleShaderPanel">
                                <label for="showStyleShaderPanel" class="label-inline">Show Style & Shaders Panel</label>
                            </div>
                        </div>
                        <div class="text-sm" id="versionInfo" style="font-family: var(--font-family-mono); line-height: 1.6; margin-top: var(--space-xl); word-wrap: break-word; white-space: pre-line;">-</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Panel Burger Menu (shows when panel is minimized) -->
    <button class="settings-panel-burger" id="settingsPanelBurger" aria-label="Open Settings">
        <span class="material-icons">menu</span>
    </button>

    <!-- Camera Panel (hidden - now integrated into Settings panel as a tab) -->
    <div class="camera-panel" id="cameraPanel" style="display: none;">
    </div>

    <!-- Combined Style & Shader Panel -->
    <div class="style-shader-panel minimized" id="styleShaderPanel">
        <div class="style-shader-panel-header">
            <div class="control-section-header">Style & Shaders</div>
            <button class="style-shader-panel-toggle" id="styleShaderPanelToggle" aria-label="Minimize/Maximize">+</button>
        </div>
        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button active" id="styleTabBtn" data-tab="style">Style Reference</button>
                <button class="tab-button" id="shaderTabBtn" data-tab="shader">Shaders</button>
            </div>
            <div class="tab-content">
                <!-- Style Tab Content -->
                <div class="tab-panel active" id="styleTabPanel">
                    <!-- Background Color -->
                    <div class="control-group">
                        <div class="control-section-header" style="display: flex; justify-content: space-between; align-items: center;">
                            <span>Background Color <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></span>
                            <button class="btn btn-sm" id="copyBackgroundColorBtn">Copy Values</button>
                        </div>
                        <label class="label">Background Color</label>
                        <input type="color" id="backgroundColorPicker" value="#010101" />
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="backgroundColorR" class="label" style="flex: 1;">R: <span class="value" id="backgroundColorRValue">0.004</span></label>
                            <input type="range" id="backgroundColorR" class="slider" min="0" max="1" step="0.001" value="0.004" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="backgroundColorG" class="label" style="flex: 1;">G: <span class="value" id="backgroundColorGValue">0.004</span></label>
                            <input type="range" id="backgroundColorG" class="slider" min="0" max="1" step="0.001" value="0.004" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="backgroundColorB" class="label" style="flex: 1;">B: <span class="value" id="backgroundColorBValue">0.004</span></label>
                            <input type="range" id="backgroundColorB" class="slider" min="0" max="1" step="0.001" value="0.004" />
                        </div>
                    </div>

                    <!-- Typography -->
                    <div class="control-group">
                        <div class="title">Title Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <div class="title-sm">Small Title <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></div>
                        <div class="label">Label Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></div>
                        <div class="text">Regular Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="text-sm">Small Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="text-mono">Monospace Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, monospace)</span></div>
                        <div class="status">Status Text <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="status loaded">Status Loaded <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></div>
                        <div class="value">Value: 100 <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 500, sans-serif)</span></div>
                    </div>

                    <!-- Buttons -->
                    <div class="control-group">
                        <div class="control-section-header">Buttons <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <button class="btn">Default Button <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(13px, 500, sans-serif)</span></button>
                        <button class="btn btn-sm">Small Button <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 500, sans-serif)</span></button>
                        <button class="btn btn-lg">Large Button <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(15px, 500, sans-serif)</span></button>
                        <div class="camera-position-buttons" style="margin-top: var(--space-sm);">
                            <button class="camera-position-btn">Position 1 <span style="font-weight: normal; opacity: 0.6; font-size: 8px;">(11px, 500, sans-serif)</span></button>
                            <button class="camera-position-btn">Position 2 <span style="font-weight: normal; opacity: 0.6; font-size: 8px;">(11px, 500, sans-serif)</span></button>
                        </div>
                    </div>

                    <!-- Form Elements -->
                    <div class="control-group">
                        <div class="control-section-header">Form Elements <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <label class="label">Select Option <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></label>
                        <select class="dropdown">
                            <option>Option 1 (11px, 500, sans-serif)</option>
                            <option>Option 2 (11px, 500, sans-serif)</option>
                            <option>Option 3 (11px, 500, sans-serif)</option>
                        </select>
                        <label for="styleSlider" class="label">Slider: <span class="value">50</span> <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px label 500, 13px value 500, sans-serif)</span></label>
                        <input type="range" id="styleSlider" class="slider" min="0" max="100" value="50" />
                        <div class="checkbox-wrapper">
                            <input type="checkbox" id="styleCheckbox" />
                            <label for="styleCheckbox" class="label-inline">Checkbox Label <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 400, sans-serif)</span></label>
                        </div>
                        <label for="styleInput" class="label">Input Field <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px label 500, 11px input 400, sans-serif)</span></label>
                        <input type="text" id="styleInput" class="input" placeholder="Placeholder Text (11px, 400, sans-serif)" />
                    </div>

                    <!-- Playback Controls -->
                    <div class="control-group">
                        <div class="control-section-header">Playback Controls <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <div class="playback-controls">
                            <button class="playback-btn"><span class="material-icons">replay_10</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                            <button class="playback-btn playback-btn-primary"><span class="material-icons">play_arrow</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                            <button class="playback-btn"><span class="material-icons">forward_10</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                            <button class="playback-btn"><span class="material-icons">volume_up</span> <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 400, sans-serif)</span></button>
                        </div>
                    </div>

                    <!-- File Input -->
                    <div class="control-group">
                        <div class="file-input-wrapper">
                            <input type="file" class="file-input" />
                            <label class="file-input-label">Load Image / Video <span style="font-weight: normal; opacity: 0.6; font-size: 9px;">(11px, 500, sans-serif)</span></label>
                        </div>
                    </div>

                    <!-- Section Example -->
                    <div class="control-section">
                        <div class="control-section-header">Section Header <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(13px, 600, sans-serif)</span></div>
                        <div class="control-section-content">
                            <div class="control-group">
                                <div class="label">Section Content <span class="text-sm" style="font-weight: normal; opacity: 0.6;">(11px, 500, sans-serif)</span></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Shader Tab Content -->
                <div class="tab-panel" id="shaderTabPanel">
                    <div style="display: flex; justify-content: flex-end; margin-bottom: var(--space-md);">
                        <button class="btn btn-sm" id="copyAllShadersBtn" title="Copy All Shader Values">Copy All</button>
                    </div>
            <!-- Base Shader -->
            <div class="control-section">
                <div class="control-section-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <span>Base</span>
                    <button class="btn btn-sm" id="copyBaseShaderBtn">Copy Values</button>
                </div>
                <div class="control-section-content">
                    <div class="control-group">
                        <label class="label">Base Color</label>
                        <input type="color" id="baseColorPicker" value="#303030" />
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="baseColorR" class="label" style="flex: 1;">R: <span class="value" id="baseColorRValue">0.188</span></label>
                            <input type="range" id="baseColorR" class="slider" min="0" max="1" step="0.001" value="0.188" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="baseColorG" class="label" style="flex: 1;">G: <span class="value" id="baseColorGValue">0.188</span></label>
                            <input type="range" id="baseColorG" class="slider" min="0" max="1" step="0.001" value="0.188" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="baseColorB" class="label" style="flex: 1;">B: <span class="value" id="baseColorBValue">0.188</span></label>
                            <input type="range" id="baseColorB" class="slider" min="0" max="1" step="0.001" value="0.188" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="baseRoughness" class="label">Roughness: <span class="value" id="baseRoughnessValue">0.905</span></label>
                        <input type="range" id="baseRoughness" class="slider" min="0" max="1" step="0.001" value="0.905" />
                    </div>
                    <div class="control-group">
                        <label for="baseSpecular" class="label">Specular: <span class="value" id="baseSpecularValue">0.300</span></label>
                        <input type="range" id="baseSpecular" class="slider" min="0" max="1" step="0.001" value="0.300" />
                    </div>
                </div>
            </div>

            <!-- Artists Shader -->
            <div class="control-section">
                <div class="control-section-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <span>Artists</span>
                    <button class="btn btn-sm" id="copyArtistsShaderBtn">Copy Values</button>
                </div>
                <div class="control-section-content">
                    <div class="control-group">
                        <label class="label">Base Color</label>
                        <input type="color" id="artistsColorPicker" value="#b8b8b8" />
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="artistsColorR" class="label" style="flex: 1;">R: <span class="value" id="artistsColorRValue">0.722</span></label>
                            <input type="range" id="artistsColorR" class="slider" min="0" max="1" step="0.001" value="0.722" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="artistsColorG" class="label" style="flex: 1;">G: <span class="value" id="artistsColorGValue">0.722</span></label>
                            <input type="range" id="artistsColorG" class="slider" min="0" max="1" step="0.001" value="0.722" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="artistsColorB" class="label" style="flex: 1;">B: <span class="value" id="artistsColorBValue">0.722</span></label>
                            <input type="range" id="artistsColorB" class="slider" min="0" max="1" step="0.001" value="0.722" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="artistsRoughness" class="label">Roughness: <span class="value" id="artistsRoughnessValue">0.604</span></label>
                        <input type="range" id="artistsRoughness" class="slider" min="0" max="1" step="0.001" value="0.604" />
                    </div>
                    <div class="control-group">
                        <label for="artistsSpecular" class="label">Specular: <span class="value" id="artistsSpecularValue">0.500</span></label>
                        <input type="range" id="artistsSpecular" class="slider" min="0" max="1" step="0.001" value="0.500" />
                    </div>
                </div>
            </div>

            <!-- Stage Shader -->
            <div class="control-section">
                <div class="control-section-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <span>Stage</span>
                    <button class="btn btn-sm" id="copyStageShaderBtn">Copy Values</button>
                </div>
                <div class="control-section-content">
                    <div class="control-group">
                        <label class="label">Base Color</label>
                        <input type="color" id="stageColorPicker" value="#b3b3b3" />
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="stageColorR" class="label" style="flex: 1;">R: <span class="value" id="stageColorRValue">0.700</span></label>
                            <input type="range" id="stageColorR" class="slider" min="0" max="1" step="0.001" value="0.700" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="stageColorG" class="label" style="flex: 1;">G: <span class="value" id="stageColorGValue">0.700</span></label>
                            <input type="range" id="stageColorG" class="slider" min="0" max="1" step="0.001" value="0.700" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="stageColorB" class="label" style="flex: 1;">B: <span class="value" id="stageColorBValue">0.700</span></label>
                            <input type="range" id="stageColorB" class="slider" min="0" max="1" step="0.001" value="0.700" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="stageRoughness" class="label">Roughness: <span class="value" id="stageRoughnessValue">0.700</span></label>
                        <input type="range" id="stageRoughness" class="slider" min="0" max="1" step="0.001" value="0.700" />
                    </div>
                    <div class="control-group">
                        <label for="stageSpecular" class="label">Specular: <span class="value" id="stageSpecularValue">0.200</span></label>
                        <input type="range" id="stageSpecular" class="slider" min="0" max="1" step="0.001" value="0.200" />
                    </div>
                </div>
            </div>

            <!-- Pillars Shader -->
            <div class="control-section">
                <div class="control-section-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <span>Pillars</span>
                    <button class="btn btn-sm" id="copyPillarsShaderBtn">Copy Values</button>
                </div>
                <div class="control-section-content">
                    <div class="control-group">
                        <label class="label">Base Color</label>
                        <input type="color" id="pillarsColorPicker" value="#6b6b6b" />
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="pillarsColorR" class="label" style="flex: 1;">R: <span class="value" id="pillarsColorRValue">0.420</span></label>
                            <input type="range" id="pillarsColorR" class="slider" min="0" max="1" step="0.001" value="0.420" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="pillarsColorG" class="label" style="flex: 1;">G: <span class="value" id="pillarsColorGValue">0.420</span></label>
                            <input type="range" id="pillarsColorG" class="slider" min="0" max="1" step="0.001" value="0.420" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="pillarsColorB" class="label" style="flex: 1;">B: <span class="value" id="pillarsColorBValue">0.420</span></label>
                            <input type="range" id="pillarsColorB" class="slider" min="0" max="1" step="0.001" value="0.420" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="pillarsRoughness" class="label">Roughness: <span class="value" id="pillarsRoughnessValue">1.000</span></label>
                        <input type="range" id="pillarsRoughness" class="slider" min="0" max="1" step="0.001" value="1.000" />
                    </div>
                    <div class="control-group">
                        <label for="pillarsSpecular" class="label">Specular: <span class="value" id="pillarsSpecularValue">0.211</span></label>
                        <input type="range" id="pillarsSpecular" class="slider" min="0" max="1" step="0.001" value="0.211" />
                    </div>
                </div>
            </div>

            <!-- Floor Shader -->
            <div class="control-section">
                <div class="control-section-header" style="display: flex; justify-content: space-between; align-items: center;">
                    <span>Floor</span>
                    <button class="btn btn-sm" id="copyFloorShaderBtn">Copy Values</button>
                </div>
                <div class="control-section-content">
                    <div class="control-group">
                        <label class="label">Base Color</label>
                        <input type="color" id="floorColorPicker" value="#212121" />
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="floorColorR" class="label" style="flex: 1;">R: <span class="value" id="floorColorRValue">0.129</span></label>
                            <input type="range" id="floorColorR" class="slider" min="0" max="1" step="0.001" value="0.129" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="floorColorG" class="label" style="flex: 1;">G: <span class="value" id="floorColorGValue">0.129</span></label>
                            <input type="range" id="floorColorG" class="slider" min="0" max="1" step="0.001" value="0.129" />
                        </div>
                        <div style="display: flex; gap: var(--space-sm); margin-top: var(--space-sm);">
                            <label for="floorColorB" class="label" style="flex: 1;">B: <span class="value" id="floorColorBValue">0.129</span></label>
                            <input type="range" id="floorColorB" class="slider" min="0" max="1" step="0.001" value="0.129" />
                        </div>
                    </div>
                    <div class="control-group">
                        <label for="floorRoughness" class="label">Roughness: <span class="value" id="floorRoughnessValue">0.900</span></label>
                        <input type="range" id="floorRoughness" class="slider" min="0" max="1" step="0.001" value="0.900" />
                    </div>
                    <div class="control-group">
                        <label for="floorSpecular" class="label">Specular: <span class="value" id="floorSpecularValue">0.000</span></label>
                        <input type="range" id="floorSpecular" class="slider" min="0" max="1" step="0.001" value="0.000" />
                    </div>
                </div>
            </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Playback Menu -->
    <div class="playback-menu" id="playbackMenu">
        <div class="playback-menu-content">
            <!-- Frame Info -->
            <div class="frame-info" id="frameInfo">
                <span id="fileNameDisplay"></span>
                <span class="frame-info-separator">|</span>
                <span>Frame: 0 / 0</span>
            </div>
            
            <!-- Timeline Slider -->
            <div class="timeline-container" id="timelineContainer">
                <span id="timeDisplay" class="timeline-time timeline-time-left">00:00</span>
                <input 
                    type="range" 
                    id="timelineSlider" 
                    class="slider slider-timeline" 
                    min="0" 
                    max="100" 
                    step="0.1" 
                    value="0"
                />
                <span id="totalTimeDisplay" class="timeline-time timeline-time-right">00:00</span>
            </div>
            
            <!-- Playback Controls Row -->
            <div class="playback-menu-controls">
                <!-- Transport Controls -->
                <div class="playback-transport">
                    <button class="playback-btn" id="jumpToStartBtn" aria-label="Jump to beginning">
                        <span class="material-icons">skip_previous</span>
                    </button>
                    <button class="playback-btn" id="rewindBtn" aria-label="Jump back 10 seconds">
                        <span class="material-icons">replay_10</span>
                    </button>
                    <button class="playback-btn playback-btn-primary" id="playPauseBtn" aria-label="Play/Pause">
                        <span class="material-icons">play_arrow</span>
                    </button>
                    <button class="playback-btn" id="jumpToEndBtn" aria-label="Jump forward 10 seconds">
                        <span class="material-icons">forward_10</span>
                    </button>
                    <button class="playback-btn" id="muteBtn" aria-label="Mute/Unmute">
                        <span class="material-icons">volume_up</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="mapping-overlay" id="mapping">
        <video id="overlayVideo" muted loop playsinline></video>
        <img id="overlayImage" style="display: none;" alt="Mapping texture">
    </div>

    <div class="debug-container" id="debugContainer">
        <div class="debug-label">NDI Debug (First Stream)</div>
        <video id="debugVideo" muted playsinline autoplay></video>
    </div>
    <script type="module" src="/main.js"></script>
</body>
</html>

